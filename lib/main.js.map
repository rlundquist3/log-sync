{"version":3,"file":"main.js","sources":["../src/parseNotes.js","../src/logSync.js","../src/main.js"],"sourcesContent":["const gradeRegEx = /(5\\.\\d+[a-d]|V\\d+)/;\n\nexport const parseNotes = async (notes) =>\n  notes\n    .map((note) => {\n      const sendsSection = note.body.split(/\\*\\*noteworthy sends:\\*\\*/i)[1];\n      if (!!sendsSection) {\n        const sends = sendsSection\n          .split(/(-|\\n)/)\n          .filter((s) => !!s.match(gradeRegEx));\n        console.log(sends);\n\n        return sends.map((s) => {\n          const grade = s.match(gradeRegEx)[0];\n          return {\n            name: s.replace(`, ${grade}`, \"\").trim(),\n            grade,\n          };\n        });\n      }\n\n      return null;\n    })\n    .filter((s) => !!s)\n    .flat();\n","import { parseNotes } from \"./parseNotes\";\n\nexport const logSync = async () => {\n  console.log(\"Initialized\");\n\n  const db = inkdrop.main.dataStore.getLocalDB();\n  const sendsTag = await db.tags.findWithName(\"sends!\");\n\n  // TODO: actually paginate and query\n  const notesWithSends = await db.notes.findWithTag(sendsTag._id, {\n    limit: 1000,\n  });\n\n  const parsedNotes = parseNotes(notesWithSends.docs);\n  console.log(\"parsed\", parsedNotes);\n};\n","import LogSyncMessageDialog from \"./log-sync-message-dialog\";\nimport { logSync } from \"./logSync\";\n\nmodule.exports = {\n  activate() {\n    // inkdrop.components.registerClass(LogSyncMessageDialog);\n    // inkdrop.layouts.addComponentToLayout(\"modal\", \"LogSyncMessageDialog\");\n    logSync();\n  },\n\n  deactivate() {\n    // inkdrop.layouts.removeComponentFromLayout(\"modal\", \"LogSyncMessageDialog\");\n    // inkdrop.components.deleteClass(LogSyncMessageDialog);\n  },\n};\n"],"names":["gradeRegEx","parseNotes","notes","map","note","sendsSection","body","split","sends","filter","s","match","console","log","grade","name","replace","trim","flat","logSync","db","inkdrop","main","dataStore","getLocalDB","sendsTag","tags","findWithName","notesWithSends","findWithTag","_id","limit","parsedNotes","docs","module","exports","activate","deactivate"],"mappings":";;;;;AAAA,MAAMA,UAAU,GAAG,oBAAoB,CAAA;AAEhC,MAAMC,UAAU,GAAG,MAAOC,KAAK,IACpCA,KAAK,CACFC,GAAG,CAAEC,IAAI,IAAK;AACb,EAAA,MAAMC,YAAY,GAAGD,IAAI,CAACE,IAAI,CAACC,KAAK,CAAC,4BAA4B,CAAC,CAAC,CAAC,CAAC,CAAA;EACrE,IAAI,CAAC,CAACF,YAAY,EAAE;IAClB,MAAMG,KAAK,GAAGH,YAAY,CACvBE,KAAK,CAAC,QAAQ,CAAC,CACfE,MAAM,CAAEC,CAAC,IAAK,CAAC,CAACA,CAAC,CAACC,KAAK,CAACX,UAAU,CAAC,CAAC,CAAA;AACvCY,IAAAA,OAAO,CAACC,GAAG,CAACL,KAAK,CAAC,CAAA;AAElB,IAAA,OAAOA,KAAK,CAACL,GAAG,CAAEO,CAAC,IAAK;MACtB,MAAMI,KAAK,GAAGJ,CAAC,CAACC,KAAK,CAACX,UAAU,CAAC,CAAC,CAAC,CAAC,CAAA;MACpC,OAAO;AACLe,QAAAA,IAAI,EAAEL,CAAC,CAACM,OAAO,CAAE,CAAIF,EAAAA,EAAAA,KAAM,CAAC,CAAA,EAAE,EAAE,CAAC,CAACG,IAAI,EAAE;AACxCH,QAAAA,KAAAA;OACD,CAAA;AACH,KAAC,CAAC,CAAA;AACJ,GAAA;AAEA,EAAA,OAAO,IAAI,CAAA;AACb,CAAC,CAAC,CACDL,MAAM,CAAEC,CAAC,IAAK,CAAC,CAACA,CAAC,CAAC,CAClBQ,IAAI,EAAE;;ACtBJ,MAAMC,OAAO,GAAG,YAAY;AACjCP,EAAAA,OAAO,CAACC,GAAG,CAAC,aAAa,CAAC,CAAA;EAE1B,MAAMO,EAAE,GAAGC,OAAO,CAACC,IAAI,CAACC,SAAS,CAACC,UAAU,EAAE,CAAA;EAC9C,MAAMC,QAAQ,GAAG,MAAML,EAAE,CAACM,IAAI,CAACC,YAAY,CAAC,QAAQ,CAAC,CAAA;;AAErD;AACA,EAAA,MAAMC,cAAc,GAAG,MAAMR,EAAE,CAAClB,KAAK,CAAC2B,WAAW,CAACJ,QAAQ,CAACK,GAAG,EAAE;AAC9DC,IAAAA,KAAK,EAAE,IAAA;AACT,GAAC,CAAC,CAAA;AAEF,EAAA,MAAMC,WAAW,GAAG/B,UAAU,CAAC2B,cAAc,CAACK,IAAI,CAAC,CAAA;AACnDrB,EAAAA,OAAO,CAACC,GAAG,CAAC,QAAQ,EAAEmB,WAAW,CAAC,CAAA;AACpC,CAAC;;ACZDE,MAAM,CAACC,OAAO,GAAG;AACfC,EAAAA,QAAQA,GAAG;AACT;AACA;AACAjB,IAAAA,OAAO,EAAE,CAAA;GACV;AAEDkB,EAAAA,UAAUA,GAAG;AACX;AACA;AAAA,GAAA;AAEJ,CAAC;;"}